$block-size: 50px;

$dark-gray: #282829;
$light-gray: #999999;
$off-white: #fceff0;
$pink: #f99cbd;
$gold: #f2de47;
$green: #3c7e36;
$brown: #675122;
$blue: #7aa2e8;

@mixin block-content($name, $content, $color: false) {
  &--#{$name} {
    @content;

    &:after {
      content: $content;
      @if $color {
        color: transparent;
        text-shadow: 0 0 0 $color;
      }
    }
  }
}

@function newline($str1, $str2) {
  @return $str1 + "\00000a" + $str2;
}

*, *:before, *:after {
  box-sizing: border-box;
}

html, body {
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  font-size: $block-size / 2.5;
}

body {
  display: flex;
  align-items: center;
  justify-content: center;
  background: black;
}

.grid {
  display: flex;
  flex-wrap: wrap;
  background-color: $dark-gray;
  font-family: 'Kalam', sans-serif;
  line-height: 1;
  position: relative;

  &.is-win:after {
    content: 'Congratulations!';
    display: block;
    padding: 25px 30px 20px;
    border-radius: 20px;
    font-size: 300%;
    text-align: center;
    color: $dark-gray;
    background-color: rgba(232, 199, 254, .9);
    box-shadow: 0 0 50px $light-gray;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
}

.row {
  display: flex;
}

.block {
  width: $block-size;
  height: $block-size;

  &:after {
    content: '';
    font-size: $block-size;
  }

  &-noun, &-joiner, &-property {
    color: $off-white;

    &:after {
      display: flex;
      width: 100%;
      height: 100%;
      font-size: 100%;
      padding-top: 5px;
      justify-content: center;
      align-items: center;
      text-align: center;
    }
  }

  &-noun {
    font-size: 110%;

    @include block-content(baba, newline('BA','BA')) {
      color: $pink;
    };

    @include block-content(flag, newline('FL','AG')) {
      color: $gold;
    };

    @include block-content(wall, newline('WA','LL')) {
      color: $light-gray;
    };

    @include block-content(rock, newline('RO','CK')) {
      color: $brown;
    };

    @include block-content(water, newline('WA','TER')) {
      color: $blue;
    };
  }

  &-joiner {
    font-size: 150%;

    @include block-content(is, 'IS')
  }

  &-property {
    border: 2px solid $dark-gray;
    border-radius: 5px;
    padding: 5px;
    font-size: 115%;

    &:after {
      color: $dark-gray;
    }

    @include block-content(you, 'YOU') {
      background-color: $pink;
    };

    @include block-content(win, 'WIN') {
      background-color: $gold;
    };

    @include block-content(stop, newline('ST','OP')) {
      background-color: $green;
    };

    @include block-content(push, newline('PU','SH')) {
      background-color: $brown;
    };

    @include block-content(sink, newline('SI','NK')) {
      background-color: $blue;
    };
  }

  &-icon {
    &:after {
      line-height: 1.4;
    }

    @include block-content(baba, 'üê∞', $off-white);
    @include block-content(rock, 'üóø', $brown);
    @include block-content(flag, 'üè≥', $gold);
    @include block-content(wall, '‚¨õÔ∏è', $light-gray);
    @include block-content(water, '‚¨õÔ∏è', $blue);
  }
}
